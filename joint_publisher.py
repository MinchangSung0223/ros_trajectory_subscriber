#!/usr/bin/python
import sys
import rospy, math, time
import numpy as np
from trajectory_msgs.msg import JointTrajectory, JointTrajectoryPoint



joint_trajectory_list = np.array([[-0.392699, -0.785085, 0.0, -2.3555949, 0.0, 1.57, 0.785398], [-0.32720592087108485, -0.6816541931833795, -0.0084825950694685, -2.2873926901380064, 0.007108518367860996, 1.604881494647787, 0.8663244599970753], [-0.2617128417421697, -0.5782233863667591, -0.016965190138937, -2.219190480276013, 0.014217036735721993, 1.6397629892955736, 0.9472509199941506], [-0.19621976261325452, -0.4747925795501386, -0.025447785208405498, -2.1509882704140195, 0.02132555510358299, 1.6746444839433605, 1.0281773799912257], [-0.13072668348433936, -0.3713617727335181, -0.033930380277874, -2.082786060552026, 0.028434073471443985, 1.7095259785911474, 1.1091038399883009], [-0.06523360435542419, -0.2679309659168976, -0.042412975347342494, -2.014583850690033, 0.035542591839304985, 1.744407473238934, 1.1900302999853762], [0.00025947477349097525, -0.16450015910027715, -0.050895570416810997, -1.9463816408280397, 0.04265111020716598, 1.779288967886721, 1.2709567599824514], [0.06575255390240614, -0.06106935228365673, -0.0593781654862795, -1.8781794309660462, 0.04975962857502697, 1.8141704625345079, 1.3518832199795265], [0.1312456330313213, 0.042361454532963805, -0.067860760555748, -1.8099772211040528, 0.05686814694288797, 1.8490519571822945, 1.432809679976602], [0.19673871216023653, 0.14579226134958434, -0.07634335562521649, -1.7417750112420594, 0.06397666531074897, 1.8839334518300814, 1.5137361399736773], [0.26223179128915164, 0.24922306816620488, -0.08482595069468499, -1.673572801380066, 0.07108518367860997, 1.9188149464778683, 1.5946625999707524], [0.32772487041806675, 0.3526538749828252, -0.0933085457641535, -1.6053705915180727, 0.07819370204647096, 1.953696441125655, 1.6755890599678276], [0.39321794954698197, 0.4560846817994457, -0.10179114083362199, -1.5371683816560793, 0.08530222041433196, 1.9885779357734419, 1.756515519964903], [0.4587110286758972, 0.5595154886160663, -0.11027373590309049, -1.4689661717940858, 0.09241073878219296, 2.0234594304212288, 1.8374419799619781], [0.5242041078048123, 0.6629462954326866, -0.118756330972559, -1.4007639619320926, 0.09951925715005394, 2.0583409250690154, 1.9183684399590533], [0.5896971869337274, 0.7663771022493071, -0.1272389260420275, -1.3325617520700992, 0.10662777551791494, 2.0932224197168026, 1.9992948999561286], [0.6551902660626426, 0.8698079090659275, -0.135721521111496, -1.2643595422081058, 0.11373629388577594, 2.1281039143645892, 2.080221359953204]],dtype=float)
if __name__ == "__main__":
	pub = rospy.Publisher('/joint_trajectory', JointTrajectory, queue_size=10)
	rospy.init_node('joint_trajectory_pub')
	rate = rospy.Rate(10)
	if len(sys.argv) <8:
		print("ERROR:Please Input joint values ")
		exit(0);


	jt = JointTrajectory()
	jt.header.stamp = rospy.Time.now()
	jt.joint_names.append("panda_joint1" )
	jt.joint_names.append("panda_joint2" )
	jt.joint_names.append("panda_joint3" )
	jt.joint_names.append("panda_joint4" )
	jt.joint_names.append("panda_joint5" )
	jt.joint_names.append("panda_joint6" )
	jt.joint_names.append("panda_joint7" )
	N = 30;
	for i in range(0,len(joint_trajectory_list)):
		
		points = JointTrajectoryPoint();
		temp = joint_trajectory_list[i]
		points.positions.append(float(temp[0]));
		points.positions.append(float(temp[1]));
		points.positions.append(float(temp[2]));
		points.positions.append(float(temp[3]));
		points.positions.append(float(temp[4]));
		points.positions.append(float(temp[5]));
		points.positions.append(float(temp[6]));
		points.time_from_start =  rospy.Duration.from_sec(0.01);
		jt.points.append(points)
	rospy.loginfo(points)
	pub.publish(jt)
	rate.sleep()
	pub.publish(jt)
	rate.sleep()
	pub.publish(jt)
	rate.sleep()
